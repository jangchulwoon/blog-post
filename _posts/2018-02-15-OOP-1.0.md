---
layout: post
title:  OOP-Book-Review
tags: Study 
categories: OOP  
---   


스터디 전 주문했던 [개발자가 반드시 정복해야 할 객체 지향과 디자인 패턴](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788969090010)을 읽고 개인적으로 느꼇던 점들을 정리해 봤습니다. 

책의 내용과 개인적으로 생각한 내용이 섞여있으므로, 의아한 점이나 다르다고 생각한 점은 댓글로 알려주시면 감사합니다.

#### 개요 

책 자체는 배워서 바로 써먹을 수 있는 내용은 아닙니다만, 시야를 넓혀줄 수 있는 책이라고 생각합니다. 
이 책을 읽고 클린 코드나, Effective를 읽는다면 조금 더 쉽게 이해 할 수 있을거라 예상합니다.  

part.1에서는 객체 지향(OOP)에 대해 서술합니다. 
조금 원론적인 이야기가 될 수 있으며, 어느정도 많이 들어본 내용을 언급했기에 빠르게 읽고 생각들을 정리해 봤습니다. 

#### 객체 지향   

Java를 첫 언어로 배운 사람으로서 절차지향은 단지, 객체지향이 아닌 무엇가로만 알고있었습니다. 

> 다형성 및 상속이 없는 프로그래밍이라고만 알고 있었습니다. 

이전까지는 

	Java로 작성한 언어는 다 객체지향이다

라고 생각할 정도로, 단순한 언어의 특성 정도로 이해하고 있었습니다.

하지만, Java는 OOP를 `지원`하는 언어일 뿐 OOP 자체 라고 볼 수는 없습니다.

##### 절차지향 및 객체 지향   

절차지향과 객체 지향을 구분짓는 Key는 `데이터 공유`라고 생각합니다. 
큰 틀에서 모든 함수가 데이터를 공유하면 절차지향, 그렇지 않으면 객체지향이라고 말할 수 있습니다. 

예로 들자면 C 언어의 경우, 모든 함수에서 공유된 데이터(전역 변수)에 접근할 수 있습니다. 
반대로 JAVA/C++에서는 모든함수가 특정 데이터에 대해 접근할 수도(public/protected)/ 못할 수도(private) 있습니다.  

> 물론 JAVA/C++의 OOP언어로도 절차지향으로 개발할 수 있으며, C언어로도 OOP를 구현할 수는 있을 겁니다.   

```
	함수가 (특정) 데이터에 접근 할수도/ 못할 수도 있다.  
```

위 문장을 봣을때 몇가지 의문점이 생겼었습니다.   

> 그럼 (특정) 함수가 어떤 데이터에 접근할 수 있는가 ? 

책에서는 `책임`이라는 단어를 사용하여 설명합니다. 

```
	`같은 책임`을 갖는 함수들을 묶고, 그 함수들이 사용할 데이터를 class로 분리한다.      
	물론 데이터를 묶고 함수를 만들 수도 있습니다.
```

그 결과, 각기 다른 책임을 갖는 객체들이 만들어지며,
그들간에 서로 상호작용을 하여 시스템을 이루는 것이 OOP 라고 생각합니다. 
 


`ex)` 

Spring batch에서는 Tasklet이라는 개념 아래, Write/Read/Process 등의 처리를 지원하는 기본적인 클래스들을 제공합니다. (별도의 Tasklet을 구현할 수도 있구요.)

Writer는 파일 혹은 DB등에 기록하는 책임을 갖고 있으며, Reader/Processor 또한 읽고, 처리하는 각기 `다른 책임`을 갖고 있습니다.

> 그들간의 상호작용을 통해 Batch의 처리를 구현할 수 있게 됩니다. 

#### 책임의 크기  

책에서 책임의 크기에 대해 언급하면서, 너무 커질경우 절차지향과 다를바가 없다라고 말합니다. 위 예시에서도 단순히 FileUtil / DBUtil 이라는 클래스로 묶고 읽고 쓰고 처리하는걸 한번에 진행하면, 결국 절차지향과 다를바가 없어집니다.  

> 유연하지 않다라는 말이죠  

개인적으로 아래와 같은 의문점을 갖고 있습니다.

```
각자 생각하는 `단일책임`의 단위가 다를테고, 책임의 크기를 너무 작게 쪼개도 관리하기 어렵지 않을까?
```

위 같은 의문점을 갖고 있던 중, OOP 책임의 단위를 레고로 비유하여 설명한 [글](https://skillcrush.com/2012/09/06/3-ways-to-say-object-oriented-programming/)을 보게 되었습니다. 

```
책임의 단위가 작게 될 경우, 레고처럼 다른 벽돌에 조금 더 쉽게 붙일 수 있지 않을까 ? 
```

라는 생각을 하게 되었습니다.


#### 객체  

```
그 결과, 각기 다른 책임을 갖는 객체들이 만들어지며,
그들간에 서로 상호작용을 하여 시스템을 이루는 것이 OOP 라고 생각합니다. 
```

`상호작용`, 다른 책에서는 `협력관계`라고 말하는데, 어떻게 상호작용을 해야하는가에 대해 `메시지`를 통해 설명합니다. 

#### 메시지  

객체의 핵심은 기능을 제공하는 것, 즉 INPUT 값에 따라 예상되는 OUTPUT 값을 전달하는 것 입니다.

```
	하나의 객체가 다른 객체에게 어떤 기능을 제공하느냐
	다시말해, 객체의 책임은 무엇인가 ? 
```

이 말은 다른 객체들에게 어떤 함수를 제공할 것인가와 이어지며, `interface` 하고도 이어집니다.  

결국 객체들간의 상호작용은 공개된 함수들로만 이루어지며, 책에서는 공개된 함수들을 `메시지`라고 말합니다. 그리고 그 메시지 목록들이 바로 Interface 입니다. 


객체들간의 협력관계는 아래와 같이 이루어집니다.

```
	1. A객체가 B객체에게 메시지를 요청 (함수를 호출) 
	2. B객체가 메시지에 대한 올바른 책임을 수행(내부 로직을 수행) 
	3. 그렇게 상호작용을 한다.  
```

또한 effective에서 언급했듯, 하위 호환성등의 이유로 메시지는 한번 release되면 영구적으로 제공해야하기 때문에 신중히 고려되어야합니다. 


#### 마치며    

개발자마다 생각하는 책임의 크기가 다를 것이라고 생각합니다. (이 글을 작성하는 시점에서는) 책임의 크기를 엄격하게 맞추는것보다, 다른 사람들이 납득할 수 있을 정도로만 나누어도 큰 문제가 없을거라 생각됩니다.

> 그게 제일 어려운거 같긴한데요 ㅎㅎ..

여기까지는 정말 원론적인 이야기로, 크게 공감을 느끼진 못했는데요. 
다음 글은  개인적으로 인상 깊었던 챕터입니다 :) 

읽어주셔서 감사합니다.

lusiue@gmail.com 


