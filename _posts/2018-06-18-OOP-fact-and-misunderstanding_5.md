---
layout: post
title:  fact-and-misunderstanding-5
tags: Study project
categories: fact-and-misunderstanding  
---   

> 06.18 
> 3장과 4장을 정리하기도 전에.. 5장을 먼저 정리합니다 ..  

#### 시작하며  

이번 장에서는 책임과 메시지라는 주제로 저를(?) 혼란스럽게 합니다.

책에서는 아래와같은 문장으로 시작을 합니다. 

    "모듈 내부의 행동/속성보다 커뮤니케이션에 초점을 맞춰라"

이전 챕터에서 `객체의 행위보다 협력관계를 먼저 생각하고 설계하라`라고 말한 것과 유사한 의미로 해석됩니다. 나아가 객체의 역할/책임을 명확히하라고 언급합니다. 

#### 책임   

객체가 행동하는 유일한 이유는 다른 객체로부터의 `요청`입니다. 

> 즉, 요청을 받은 객체는 그 요청을 수행할 `책임`이 생깁니다. 

이전에도 말했듯, 객체는 자율적인 존재입니다. 스스로 정한 원칙에 따라 판단하고 스스로의 의지로 행동해야합니다. 자신의 책임에서 벗어난 부분에 대해서, (다른 객체에게) `요청`을 보내 협력관계를 이루고 문제를 해결해야합니다. 

만약, 협력관계를 이루지않고 다른 객체의 자율성을 깨뜨릴 경우 유연하지 못한 구조가 생성됩니다. 
이는 캡슐화가 깨졋다라는 의미와 동일하며 결국 변경에 열려있는 코드가 됩니다. 

이 전 햄버거 상황(?)에서 말했던 것처럼, 손님은 직원에게 햄버거를 달라고 요청할 뿐 그 이상의 행위에 대해서는 간섭하지 않습니다.  

> 햄버거를 만들 때 패티를 먼저 굽고 야채를 씻든, 야채를 씻고 패티를 굽든 간섭하지 않습니다. 
(진상이라면 다르겠지만 ... 우린 진상은 아니잖아요 ?)

객체도 동일합니다.
`자율성`을 침해하지 않는 선에서 요청을 보내야합니다. 만약 `자율성`을 해쳤을 경우 OCP를 위배할 가능성이 높아지며 이는 객체지향에 위배됩니다. 

또한 지나치게 추상화된 요청은 수신받는 객체로 하여금 혼란을 일으킬 수 있습니다. 

#### how 보단 what  

객체의 `자율성`을 지키기 위한 핵심은 `what`에 초점을 맞추는 것입니다.  

> (무엇을) 해줘 ! 라고 요청을 보내야하며, (어떻게) 해줘! 는 객체의 자율성을 침해합니다.  

> 요기에 don't tell, ask 를 붙여 넣자 

위에서 

    객체가 행동하는 유일한 이유는 다른 객체로부터의 `요청`입니다. 

라고 말했었는데요.
달리말해, 요청은 객체가 다른 객체에게 접근할 수 있는 유일한 방법입니다. 

> 그리고 이걸 메시지라 부릅니다. 

메시지는 객체의 외부와 내부를 분리하는 기준점이 됩니다. 
메시지는 외부에 공개된 영역으로, 객체는 메시지를 받으면 `자율적`으로 처리 방법을 정할 수 있습니다. 

메시지를 함수로 생각해보면 아래와 같습니다.

    수신자.행동(추가정보)

    receiver.behavior(param);

이제 혼란의 시간입니다 ...

메시지 != 메서드  

메서드 -> 방법 

상속 패턴 등을 이용해 내부적으로 실행시간에 방법을 선택할 수 있다.

> 이게 다형성 
















