---
layout: post
title: 00-HTTP구성
tags: HTTP  
categories: HTTP
---    

#### [00] HTTP란      

REST API를 정리하다가, HTTP의 궁금증이 생겨 공부해 볼까 합니다.       
HTTP 정리를 끝냈을 때, 다음과 같은 용어들을 설명할 수 있었으면 좋겠습니다. 

>  **캐시,로드밸런싱, 프록시, TCP , 비연결형 ....**        

이번 포스팅에선 요청과 응답 , HTTP 메시지의 구성정도로만 정리하겠습니다.      
HTTP가 무엇인가 ? 에 대해 한줄로 정리하기 위해 작성된 포스팅입니다.    


### 요청과 응답    

HTTP의 기본은 요청과 응답입니다.     

<img src="/public/img/http.jpg">   

1. Client는 Server에게 요청을 보냅니다. 
2. Server는 요청에 대한 처리를 진행합니다.
3. 그 후, 요청에 대한 응답을 Client에게 전달합니다.    


HTTP는 요청과 응답을 하나의 **트랜잭션**으로 관리합니다.    
트랜잭션의 대표적 특징 중, 원자성이라는 것이 존재하는데, 원자성이란 한번 진행되면 멈추지 않는 특징을 말합니다. 즉, 모두 진행되거나, 전혀 진행되지 않아야합니다.

> 트랜잭션이란 하나의 뭉터기로 이해하면 편할 것 같습니다.      
> 즉, 하나의 요청에 대해 응답이 존재해야만 합니다.     

주로 하나의 웹사이트는 여러개의 트랜잭션으로 이루어집니다. HTML 파일 뿐만 아니라, css/js 파일들또한 HTTP로 가져와야 하기 때문입니다.    

   

### 구성    

요청과 응답의 형태는 다음과 같습니다.    
   
**[요청]**    

**시작줄** ->  GET /URL  HTTP/1.0    

**헤더**   ->  Accept : text/html ~    

**본문**  ->  (없을 수도 있습니다. )     


  
**[응답]**    

**시작줄** -> HTTP/1.0 200 OK      

**헤더**   ->  content-length:3651 ~    
 
**본문**   ->  (없을 수도 있습니다. )     


HTTP 메시지는 기본적으로 시작줄 , 헤더 , 본문으로 이루어집니다.     

###### 시작줄      
 
시작줄은 HTTP의 버전, Method , URL, 응답 코드 등으로 구성됩니다. 위 형태를 보면 요청과 응답의 시작줄이 약간 다르다는걸 알 수 있습니다.  요청은 Method URL HTTP버전 으로 구성되고, 응답은 HTTP버전 상태코드 사유구절로 이루어집니다.     

**URL**     

요청을 보낼 서버 또는 자원의 위치를 의미합니다.      
> jpg, js등의 정적자원을 가져오기 위해 해당 파일의 위치를 서술 할 수도 있고,     
> 특정 서버를 가르킬 수도 있습니다. 

**Method**    

HTTP에서 제공되는 것으로 요청에 대한 처리방법을 의미합니다.    
GET , POST , PUT , DELETE , OPTION 등이 존재하고, 서버는 Method로 요청을 처리하여 응답을 보냅니다.        
간단히 정리하자면, **GET**은 특정 자원을 가져오는 방식이고, **POST** 입력데이터를 전송하기위해 사용됩니다. **PUT**은 새문서를 만들거나, 교체하는 작업을 하고, **DELETE**는 말그대로 특정 자원을 삭제하는 Method입니다. **OPTION**은 서버에게 어떤 Method가 사용 가능한지 물어보는 Method 입니다.        

> 주로 GET / POST 방식만 사용해 왔는데, 이 부분에 대해서는 별도로 정리를 하겠습니다.  

**응답코드 와 사유구절**     

응답코드는 요청에 대한 코드로, 성공 시 200 을 출력하고, client 에러시 400 error , Server error 시 500 error를 출력합니다.  (300 은 리다이렉트 라고 하는데, 아직 본적은 없습니다. )      

사유구절은 응답코드에 대한 것으로 사람이 보기위해 만들어진 부분입니다. 정해진 양식은 없습니다.    

> 제가 가장 많이본 사유구절은 OK  입니다.  

간단한 예시로, Naver 에 포함된 HTTP 메시지 일부입니다. 

<img src = "/public/img/naverhttp.jpg">       
> URL로 특정 서버를 표기, Method 는 Get으로, 응답 결과는 200 으로 성공을 의미합니다.     

<img src = "/public/img/css.jpg">     
> URL로 자원의 위치를 표기했습니다.        



###### Header     

헤더에는 주로 요청/ 응답에 대한 추가적인 정보나, 속성들을 의미합니다.     
헤더에는 일반헤더와 요청헤더, 응답헤더가 존재하는데 말 그대로 요청에서 사용되는 헤더와 응답에서 사용되는 헤더, 요청/응답에서 사용될 수 있는 일반헤더로 이루어 집니다.   

key : contents 형식으로 이루어지며, 다양한 속성이 존재합니다.   

<img src ="/public/img/header.jpg" >      

Naver 의 메시지중 일부를 가져왔습니다.    
위 이미지는  응답해더로 다양한 필드가 존재합니다.    

> Header는 요청 / 응답에 대한 추가적 정보 및 속성들을 의미한다 정도만 알고 있으면 될것 같습니다.   
> 추후, 캐시나 TCP 커넥션과 관련된 헤더에 대해서만 정리해보도록 하겠습니다.      


###### 본문      

HTTP의 화물로 , 디지털 데이터를 실어나르는데 사용됩니다.     
 


##### 마치며      

간단하게 HTTP의 흐름과 메시지 구성에 대해 정리했습니다.   
HTTP를 정리하자면 ,

> 웹에서 동작하는 프로토콜로, 요청과 응답을 하나의 트랜잭션으로 구성하여 서버와 통신하는 방법입니다.          

다음엔 Method 에 대해 자세히 정리해 보도록 하겠습니다.     
    
06 - 30     
lusiue@gmail.com      
시간날때마다 정리해서 올리겠습니다. 

