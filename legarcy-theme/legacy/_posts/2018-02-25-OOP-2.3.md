---
layout: post
title:  OOP-Book-Review-2.3
tags: Study 
categories: OOP  
---   

이번 글은 상속/조립에 대한 글입니다.
SOLID의 중간 정리 겸 책에서도 서술하고 있기에 글을 작성해봤습니다.

    상속 대신 조립을 사용해라  

이 책뿐만 아니라, 다른 책들에서도 너무나 뻔히 말하고 있는 문장입니다. 
(대표적으로) Effective Java에서도 이 와같은 원칙을 설명하고 있죠 

> 그래서 조금 간단하게 정리했습니다 .... 

글이 길어서 읽기 힘드시다면, 한 문장만 읽으셔도 됩니다.  

    상속하지 마세요....  

#### 상속의 문제점     

상속을 이용할 경우, 발생하는 대표적인 문제사항은 다음과 같습니다.   

    1. 잘못된 상속일 수 있다. (LSP)
    2. 상위 클래스 변경시, 하위 클래스에도 영향을 미친다.
    3. 불필요한 클래스가 증가 할 수 도 있다.
    0. 상속의 기회는 단 한번이다 (Java) 
    (때문에 신중해야한다.)

여기서 말하는 상속은 Implement가 아닌 extends를 말합니다.   

#### 잘못된 상속일 수 있다. + 불필요한 클래스 증가 

지난 LSP에서 볼 수 있었듯, 명세와 관련된 부분에서 맞지 않을 수도 있고, 상속의 관계가 IS-A가 아닐 수도 있습니다. 
또한 Effective JAVA에서도 언급하는데, 클래스가 상속을 고려하여 설계되지 않았을 경우, 문서화가 제대로 이루어지지 않았을 경우는 상속을 피해야합니다.

> 여기서의 문서화는 LSP의 명세와 관련깊습니다.    

또한 그 과정에서 클래스가 너무 많아 질 수 있으며, 나중에 가서는 관리하기가 어려워지는 문제가 발생할 수 있습니다. 

개인적으로 이를 관리하기 위해, Interface 와 구현 클래스를 별도의 package로 관리했던 기억도 있습니다..... 

#### 상위 클래스의 변경 시, 하위클래스에도 영향

상위 클래스의 함수가 추가된다거나, 삭제 됐을 경우 하위 클래스는 직접적으로 영향을 받게 됩니다. 

> 만약 public/ protected의 변수/함수가 삭제될 경우 클라이언트 코드 뿐아니라 하위 클래스에도 영향을 받게 됩니다.   
 
이 때문에 한번 public / protected로 정의된 변수/함수들은 영원히 공개되어야하며, private로 바꿀 수 없는지를 고민해보라고 말합니다.   

이는 Implement 와도 연결되는 문제이며, Java8에서 Collection Interface에 Stream을 지원하기 위해 default Method를 추가했다고도 생각 할 수 있습니다.
(이 부분은 사람마다 다르게 생각할 수도 있을거 같습니다.)

#### 마치며     

책에서는 상속은 확장에서만 고려해야하며, 왠만하면 조립을 사용하는 말을 합니다.
사실 개인적으로는 상속은 (무조건) 피하고, 조립을 사용하자는 주의인데요.
그 이유는 상속을 고려한 설계/문서화를 할 자신이 없으며, 고려해야할 점이 너무 많기 때문입니다. 

> 먼 훗날 ... 상속이 편한날이 오길 바랍니다 ..

언제나 그렇듯 피드백은 환영입니다 ~  



